"use strict";
var SecureStorage = (function () {
    function SecureStorage() {
        this.defaultService = "my_app";
    }
    SecureStorage.prototype.get = function (arg) {
        var that = this;
        return new Promise(function (resolve, reject) {
            var query = SAMKeychainQuery.new();
            query.service = arg.service || that.defaultService;
            query.account = arg.key;
            try {
                query.fetch();
                resolve(query.password);
            }
            catch (e) {
                resolve(null);
            }
        });
    };
    ;
    SecureStorage.prototype.set = function (arg) {
        var that = this;
        return new Promise(function (resolve, reject) {
            var accessibility = kSecAttrAccessibleAlwaysThisDeviceOnly;
            SAMKeychain.setAccessibilityType(accessibility);
            var query = SAMKeychainQuery.new();
            query.service = arg.service || that.defaultService;
            query.account = arg.key;
            query.password = arg.value;
            resolve(query.save());
        });
    };
    ;
    SecureStorage.prototype.remove = function (arg) {
        var that = this;
        return new Promise(function (resolve, reject) {
            var query = SAMKeychainQuery.new();
            query.service = arg.service || that.defaultService;
            query.account = arg.key;
            try {
                resolve(query.deleteItem());
            }
            catch (e) {
                resolve(false);
            }
        });
    };
    ;
    return SecureStorage;
}());
exports.SecureStorage = SecureStorage;
//# sourceMappingURL=secure-storage.ios.js.map